
---

### Таблица нефункциональных требований — Ядро-движок чатов

| ID         | Категория         | Требование                                      | Метрика / Критерий приемки                                           | Приоритет MVP | Комментарий для MVP                                             |
|------------|-------------------|--------------------------------------------------|----------------------------------------------------------------------|---------------|------------------------------------------------------------------|
| **PERF-001** | Производительность | Скорость доставки сообщений                       | Сообщение доставляется всем участникам ≤ 1 сек при 95% нагрузке        | Must          | Использовать WebSocket для мгновенной доставки                   |
| **PERF-002** | Производительность | Время получения истории чата                      | Загрузка 100 последних сообщений ≤ 0.5 сек                            | Must          | Использовать кэширование истории (FR-019)                       |
| **REL-003**  | Надежность       | Обработка сбоя соединения                         | При потере соединения сообщения ставятся в очередь и доставляются при восстановлении | Must          | Реализовать механизм retry и offline-сообщений                   |
| **SEC-004**  | Безопасность     | Шифрование сообщений                             | Сообщения шифруются при хранении (AES-256) и передаче (TLS 1.2+)       | Must          | Поддержка end-to-end шифрования — в будущих версиях               |
| **SEC-005**  | Безопасность     | Защита от несанкционированного доступа            | Проверка прав на уровне API: 403 возвращается при отсутствии доступа  | Must          | RBAC-модель (FR-016) и проверка токена                         |
| **SEC-006**  | Безопасность     | Аутентификация и авторизация                     | Поддержка JWT-токенов, OAuth 2.0                                     | Must          | Интеграция с внешними системами авторизации                    |
| **MAINT-007**| Ремонтопригодность | Мониторинг состояния системы                    | Система предоставляет `/health` и `/metrics` для мониторинга           | Must          | Интеграция с Prometheus и Grafana                              |
| **MAINT-008**| Ремонтопригодность | Восстановление после сбоя                         | Восстановление чатов и сообщений из резервной копии ≤ 30 мин         | Should        | Ежедневные бэкапы БД                                             |
| **COMP-009** | Совместимость   | Поддержка клиентских SDK                           | SDK для Web (JavaScript), iOS (Swift), Android (Kotlin)               | Must          | Поддержка REST и WebSocket API                                   |
| **COMP-010** | Совместимость   | Поддержка разных типов клиентов                   | Работа с API через REST и GraphQL                                     | Should        | GraphQL — опционально, REST — обязательный                        |
| **SCAL-011** | Масштабируемость| Горизонтальное масштабирование                    | Поддержка до 10 000 активных чатов/сек без деградации производительности | Should      | Использовать stateless-сервисы и шардинг БД                        |
| **SCAL-012** | Масштабируемость| Поддержка множества подключений                    | Обработка 10 000 одновременных WebSocket-соединений                    | Should        | Использовать асинхронный сервер (например, Node.js, Go, Erlang)  |
| **PERF-013** | Производительность | Задержка при синхронизации клиентов               | Синхронизация между клиентами ≤ 1 сек                                 | Must          | Использовать пуши и синхронизацию через API и WebSocket         |
| **USAB-014** | Удобство        | Отслеживание активности пользователей            | Показывает статус "в сети", "был недавно", "неактивен"                | Could         | Не требуется для MVP, но важно для пользовательского опыта       |
| **LOC-015**  | Локализация     | Поддержка нескольких языков                      | Сообщения и метаданные (например, уведомления) локализуются на 5 языков | Should       | Использовать i18n-библиотеки, поддержка UTF-8                   |
| **PERF-016** | Производительность | Время обработки событий                         | События (`onMessageSent`, `onChatDeleted`) обрабатываются ≤ 500 мс   | Must          | Использовать очередь сообщений (Kafka, RabbitMQ)                 |
| **SEC-017**  | Безопасность     | Логирование и аудит                              | Все действия (создание, удаление, редактирование) записываются в логи  | Must          | Логи хранятся 30 дней; структурированное логирование (FR-018)   |
| **COMP-018** | Совместимость   | Поддержка разных типов файлов                     | Возможность отправки файлов: PDF, DOC, XLS, JPG, PNG (≤ 20 МБ)        | Should        | Проверка MIME-типов и размера файла                              |
| **MAINT-019**| Ремонтопригодность | Упрощенная интеграция с внешними системами       | Интеграция с CRM, ERP, аналитикой через вебхуки и SDK               | Could         | Поддержка webhook и SDK-интеграций (FR-015, FR-017)              |

---
